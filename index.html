```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tobacco Road Distillers - ABV Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5dc; /* Beige fallback */
            background-image: url('logo.png');
            background-size: cover; /* Ensures logo covers the area */
            background-position: center; /* Centers the logo */
            background-repeat: no-repeat;
            background-attachment: fixed;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.9); /* Semi-transparent white for readability */
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
        }
        .logo-header {
            text-align: center;
            margin-bottom: 20px;
            font-family: 'Georgia', serif;
            font-size: 24px;
            font-weight: bold;
            color: #8B4513;
        }
        h1 {
            font-size: 18px;
            margin: 0 0 20px 0;
            color: #333;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input[type="number"], input[type="text"], select {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .radio-group {
            margin-bottom: 15px;
        }
        .radio-group label {
            display: inline-block;
            margin-right: 15px;
            font-weight: normal;
            margin-bottom: 0;
        }
        .radio-group input[type="radio"] {
            width: auto;
            margin-right: 5px;
        }
        button {
            background-color: #ccc;
            color: #333;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-bottom: 20px;
        }
        button:hover {
            background-color: #bbb;
        }
        .result {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            color: #28a745;
        }
        .result-label {
            text-align: center;
            margin-bottom: 5px;
            color: #555;
        }
        #recipeDisplay {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
            display: none; /* Hidden until selection */
        }
        #recipeDisplay h2 {
            font-size: 16px;
            margin-top: 0;
        }
        #recipeDisplay ol {
            padding-left: 20px;
        }
        #recipeDisplay table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        #recipeDisplay th, #recipeDisplay td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        #recipeDisplay th {
            background-color: #f2f2f2;
        }
        #mashBillCalculator {
            margin-top: 30px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        #grainsContainer {
            margin-bottom: 15px;
        }
        .grain-entry {
            display: flex;
            margin-bottom: 10px;
        }
        .grain-entry input {
            flex: 1;
            margin-right: 10px;
        }
        .grain-entry input:last-child {
            margin-right: 0;
        }
        #mashBillResult {
            margin-top: 15px;
        }
        #mashBillResult table {
            width: 100%;
            border-collapse: collapse;
        }
        #mashBillResult th, #mashBillResult td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        #mashBillResult th {
            background-color: #f2f2f2;
        }
        .error {
            color: red;
            margin-top: 5px;
        }
        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            .logo-header {
                font-size: 20px;
            }
            .grain-entry {
                flex-direction: column;
            }
            .grain-entry input {
                margin-right: 0;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo-header">Tobacco Road Distillers</div>
        <h1>Alcohol By Volume Calculator:</h1>
        
        <label>
            Gravity Unit:
            <div class="radio-group">
                <label><input type="radio" name="gravityUnit" value="SG" checked> SG (1.xxx)</label>
                <label><input type="radio" name="gravityUnit" value="Plato"> Plato °P</label>
            </div>
        </label>
        
        <label>
            Original Gravity (OG):
            <input type="number" id="og" value="1.070" step="0.001" min="0.990" max="1.200">
        </label>
        
        <label>
            Final Gravity (FG):
            <input type="number" id="fg" value="1.000" step="0.001" min="0.990" max="1.200">
        </label>
        
        <label>
            Equation:
            <div class="radio-group">
                <label><input type="radio" name="equation" value="standard" checked> Standard</label>
                <label><input type="radio" name="equation" value="alternate"> Alternate (see below for more information)</label>
            </div>
        </label>
        
        <button onclick="calculateABV()">UPDATE</button>
        
        <div>
            <div class="result-label">Alcohol By Volume:</div>
            <div class="result" id="abvResult">9.19%</div>
        </div>

        <label>
            Select Alcohol Type:
            <select id="alcoholType">
                <option value="">-- Choose --</option>
                <option value="whiskey">Whiskey</option>
                <option value="vodka">Vodka</option>
                <option value="moonshine">Moonshine</option>
                <option value="rum">Rum</option>
                <option value="smoothBourbon">Smooth Bourbon-Style Whiskey</option>
                <option value="sweetMolassesRye">Sweet Molasses-Infused Rye Whiskey</option>
            </select>
        </label>

        <div id="recipeDisplay">
            <h2>Step-by-Step Recipe</h2>
            <div id="recipeContent"></div>
        </div>

        <!-- New Mash Bill Calculator Section -->
        <div id="mashBillCalculator">
            <h1>Mash Bill Calculator:</h1>
            <label>
                Total Mash Weight (lbs):
                <input type="number" id="totalWeight" value="15" min="1" step="0.1">
            </label>
            <div id="grainsContainer"></div>
            <button onclick="addGrainEntry()">Add Grain</button>
            <button onclick="calculateMashBill()">Calculate</button>
            <div id="mashBillResult"></div>
            <div id="mashError" class="error"></div>
        </div>
    </div>

    <script>
        function calculateABV() {
            const ogInput = parseFloat(document.getElementById('og').value);
            const fgInput = parseFloat(document.getElementById('fg').value);
            const unit = document.querySelector('input[name="gravityUnit"]:checked').value;
            const equation = document.querySelector('input[name="equation"]:checked').value;

            if (isNaN(ogInput) || isNaN(fgInput) || ogInput <= fgInput) {
                document.getElementById('abvResult').textContent = 'Invalid input';
                return;
            }

            let og = ogInput;
            let fg = fgInput;

            if (unit === 'Plato') {
                og = platoToSG(og);
                fg = platoToSG(fg);
            }

            let abv = (og - fg) * 131.25;

            if (equation === 'alternate') {
                abv = (og - fg) * 126;
            }

            abv = Math.round(abv * 100) / 100;
            document.getElementById('abvResult').textContent = abv + '%';
        }

        function platoToSG(plato) {
            return 1 + (plato / (258.6 - (plato * 227.1 / 258.6)));
        }

        // Recipe data (unchanged)
        const recipes = {
            whiskey: [
                'Prepare mash: Mix 6 lbs corn, 2 lbs rye, 2 lbs malted barley, and 5 gallons water. Heat to 165°F, add enzymes if needed, hold for 60-90 min.',
                'Cool mash to 70-80°F, pitch yeast, ferment for 5-7 days until SG stabilizes around 1.000.',
                'Strain solids, distill in pot still: Collect foreshots (discard), heads, hearts (target 60-80% ABV), tails.',
                'Age hearts in oak barrel or with oak chips for 6+ months for flavor development.',
                'Dilute to 40-50% ABV, bottle. Ensure legal compliance.'
            ],
            vodka: [
                'Prepare wash: Mix 10 lbs sugar, 5 gallons water, turbo yeast. Ferment at 70-80°F for 3-5 days until dry.',
                'Distill multiple times in column still for neutrality, aiming for 95%+ ABV.',
                'Filter through activated carbon to remove impurities.',
                'Dilute to 40% ABV with distilled water.',
                'Bottle as neutral spirit. Check local laws.'
            ],
            moonshine: [
                'Make corn mash: 8.5 lbs cracked corn, 5 lbs sugar, amylase enzymes, 5 gallons water. Heat to convert starches, cool.',
                'Ferment with distiller’s yeast for 7-10 days until bubbling stops.',
                'Distill in pot still with thumper: Run stripping run, then spirit run, collect hearts at high proof.',
                'Optionally infuse with fruits like apple for flavored versions.',
                'Dilute if needed, store in jars. Home distillation may be illegal.'
            ],
            rum: [
                'Prepare molasses wash: Mix 6 lbs molasses, 4 lbs sugar, 5 gallons water, rum yeast. Ferment 7-14 days.',
                'Distill in pot still twice: First to low wines (20-40% ABV), second to hearts (60-80% ABV).',
                'Infuse with spices: Add vanilla, cinnamon, nutmeg; steep for 1-2 weeks.',
                'Age in oak for caramel notes, dilute to 40-50% ABV.',
                'Bottle spiced rum. Adhere to regulations.'
            ],
            smoothBourbon: `
                <p>This recipe draws from traditional corn whiskey mashes but incorporates your caramel 20 malt for added sweetness and body, making it exceptionally smooth for sipping neat or over ice. The high corn content provides a mellow, vanilla-forward profile, while a touch of rye malt adds subtle spice without overpowering smoothness. It's scaled for about 10 gallons of wash, suitable for your 13.2-gallon still. Expected ABV after distillation: 40-50% (dilute to taste post-distillation). Fermentation time: 7-14 days. Aging suggestion: Rest in glass jars with toasted oak chips (2-4 oz, available at homebrew stores) for 1-3 months for oaky smoothness.</p>
                <h3>Ingredients (Mash Bill: ~70% Corn, 20% Barley Malt, 5% Caramel Malt, 5% Rye Malt)</h3>
                <table>
                    <tr><th>Ingredient</th><th>Quantity</th><th>Notes</th></tr>
                    <tr><td>Cracked/cut corn</td><td>10 lbs</td><td>Your supply; provides base sweetness.</td></tr>
                    <tr><td>Two-row barley malt</td><td>3 lbs</td><td>Crushed; for enzymes to convert starches.</td></tr>
                    <tr><td>Caramel 20 two-row barley malt</td><td>1 lb</td><td>Crushed; adds caramel notes for smoothness.</td></tr>
                    <tr><td>Rye malt</td><td>1 lb</td><td>Crushed; minimal for gentle spice.</td></tr>
                    <tr><td>Granular sugar</td><td>8-10 lbs (optional)</td><td>Boosts ABV and fermentability; use less for more grain character.</td></tr>
                    <tr><td>Water</td><td>7 gallons (start with 5 gal hot)</td><td>Filtered or spring; total volume ~10 gal post-mash.</td></tr>
                    <tr><td>Distiller's yeast</td><td>1 packet (e.g., Turbo or whiskey yeast)</td><td>High-alcohol tolerant; pitch per package.</td></tr>
                </table>
                <h3>Step-by-Step Process</h3>
                <ol>
                    <li><strong>Mashing (3-4 hours):</strong> In a large pot or mash tun, heat 5 gallons of water to 165°F. Stir in the cracked corn and maintain 160°F for 30-45 minutes, stirring occasionally to prevent scorching (this gelatinizes the corn starches). Cool to 152°F (add cool water if needed), then stir in the crushed barley malt, caramel malt, and rye malt. Hold at 148-152°F for 90 minutes, stirring every 15 minutes. This allows enzymes to convert starches to sugars. Test conversion with iodine (tincture of iodine; if no blue color on a sample, it's ready). Cool to 70°F by adding remaining 2 gallons water and an immersion chiller if available.</li>
                    <li><strong>Fermentation (7-14 days):</strong> Transfer to a fermenter (food-grade bucket or carboy). If using sugar, dissolve it fully in warm mash water first. Aerate by stirring vigorously or pouring between vessels. Pitch yeast at 70°F. Seal with airlock and ferment at 65-75°F. Monitor with hydrometer: Start at ~1.060-1.080 OG; done at <1.010 FG (bubbles stop). Rack off sediment after 1 week settling.</li>
                    <li><strong>Distillation:</strong> Siphon clear wash into your still, leaving sediment behind (yields ~8-9 gal). For the thump keg, fill halfway with water or a portion of your stripping run (low wines) to enhance flavor during the second pass. Run a stripping run first (fast, collect everything over 80% ABV foreshots/cut to 20% tails). Then do a spirit run (slower, collect hearts at 140-160 proof, discard first 5-10% heads and last 20% tails). Use thumper for the spirit run to boost proof and smoothness.</li>
                    <li><strong>Finishing:</strong> Dilute to 100-125 proof with distilled water. Age with oak chips in a glass jar (1 oz per gallon) for 1-3 months, tasting weekly. Filter through coffee filters if cloudy. For mixing with cola, keep at 80-90 proof.</li>
                </ol>
                <p>This yields a sweet, corn-driven whiskey with toasty caramel undertones—perfect for a smooth sipper.</p>
            `,
            sweetMolassesRye: `
                <p>For a slightly spicier but still approachable whiskey, this variation uses more rye malt for rye whiskey character while your molasses adds a rich, dark sweetness that balances the spice, making it great mixed with cola (the molasses echoes rum notes). It's smoother than traditional rye due to corn and sugar buffering the rye's edge. Scaled for ~10 gallons wash. Expected ABV: 45-55%. Fermentation: 7-10 days. Aging: Optional 2-4 weeks with oak staves (4-6 small oak staves) for mellowing.</p>
                <h3>Ingredients (Mash Bill: ~50% Corn, 30% Rye Malt, 15% Barley Malt, 5% Molasses)</h3>
                <table>
                    <tr><th>Ingredient</th><th>Quantity</th><th>Notes</th></tr>
                    <tr><td>Cracked/cut corn</td><td>6 lbs</td><td>Base for smoothness.</td></tr>
                    <tr><td>Rye malt</td><td>4 lbs</td><td>Crushed; for spicy rye backbone.</td></tr>
                    <tr><td>Two-row barley malt</td><td>2 lbs</td><td>Crushed; enzymes and body.</td></tr>
                    <tr><td>Molasses</td><td>2 lbs (or ~3 cups)</td><td>Your supply; unsulfured for best flavor—adds depth.</td></tr>
                    <tr><td>Granular sugar</td><td>10 lbs</td><td>For high fermentability and ABV.</td></tr>
                    <tr><td>Water</td><td>8 gallons (start with 5 gal hot)</td><td>Total ~10 gal post-mash.</td></tr>
                    <tr><td>Distiller's yeast</td><td>1 packet</td><td>As above; rye-tolerant strains preferred.</td></tr>
                </table>
                <h3>Step-by-Step Process</h3>
                <ol>
                    <li><strong>Mashing (2-3 hours):</strong> Heat 5 gallons water to 165°F in your pot. Add cracked corn and rye malt, hold at 160°F for 30 minutes, stirring to gelatinize. Cool to 152°F, stir in crushed barley malt. Maintain 148-152°F for 60-90 minutes, stirring periodically. In the last 15 minutes, stir in molasses and sugar until dissolved (molasses adds fermentables without needing extra enzymes). Cool to 70°F with remaining 3 gallons water.</li>
                    <li><strong>Fermentation (7-10 days):</strong> Transfer to fermenter and aerate well (rye can be sticky—stir extra). Pitch yeast at 68-72°F. Ferment at 70°F with airlock. OG ~1.070-1.090; FG <1.005. The molasses will give a darker color and faster ferment. Settle 3-5 days post-ferment, then rack.</li>
                    <li><strong>Distillation:</strong> Siphon ~9 gal wash into still. For thump keg, use plain water initially for the stripping run (collect to 20% ABV), then low wines for the spirit run to infuse rye/molasses flavors. Stripping: Fast heat, one pass. Spirit: Slow, cut heads (first 150ml), collect hearts (clear, smooth cuts at 60-80% ABV), discard tails. Thumper enhances the sweet-spicy notes.</li>
                    <li><strong>Finishing:</strong> Dilute to 90-110 proof. Age with oak staves in bottles (1 stave per 2 gal) for 2-4 weeks, shaking occasionally. The molasses lends a cola-friendly sweetness—mix 1:3 with cola over ice.</li>
                </ol>
            `
        };

        // Event listener for dropdown (unchanged)
        document.getElementById('alcoholType').addEventListener('change', function() {
            const selected = this.value;
            const display = document.getElementById('recipeDisplay');
            const content = document.getElementById('recipeContent');

            if (selected && recipes[selected]) {
                content.innerHTML = recipes[selected];
                display.style.display = 'block';
            } else {
                display.style.display = 'none';
            }
        });

        // Mash Bill Calculator Functions
        let grainCount = 0;

        function addGrainEntry() {
            grainCount++;
            const container = document.getElementById('grainsContainer');
            const entry = document.createElement('div');
            entry.className = 'grain-entry';
            entry.innerHTML = `
                <input type="text" placeholder="Grain Name (e.g., Corn)" id="grainName${grainCount}">
                <input type="number" placeholder="Percentage (%)" id="grainPercent${grainCount}" min="0" max="100" step="0.1">
            `;
            container.appendChild(entry);
        }

        function calculateMashBill() {
            const totalWeight = parseFloat(document.getElementById('totalWeight').value);
            const resultDiv = document.getElementById('mashBillResult');
            const errorDiv = document.getElementById('mashError');
            resultDiv.innerHTML = '';
            errorDiv.textContent = '';

            if (isNaN(totalWeight) || totalWeight <= 0) {
                errorDiv.textContent = 'Invalid total weight.';
                return;
            }

            let totalPercent = 0;
            const grains = [];

            for (let i = 1; i <= grainCount; i++) {
                const name = document.getElementById(`grainName${i}`).value.trim();
                const percent = parseFloat(document.getElementById(`grainPercent${i}`).value);

                if (name && !isNaN(percent) && percent > 0) {
                    totalPercent += percent;
                    grains.push({ name, percent });
                }
            }

            if (grains.length === 0) {
                errorDiv.textContent = 'Add at least one grain.';
                return;
            }

            if (Math.abs(totalPercent - 100) > 0.01) { // Allow small floating point errors
                errorDiv.textContent = `Percentages sum to ${totalPercent.toFixed(2)}%. Must be 100%.`;
                return;
            }

            let table = '<table><tr><th>Grain</th><th>Quantity (lbs)</th></tr>';
            grains.forEach(grain => {
                const quantity = (grain.percent / 100 * totalWeight).toFixed(2);
                table += `<tr><td>${grain.name}</td><td>${quantity}</td></tr>`;
            });
            table += '</table>';

            resultDiv.innerHTML = table;
        }

        // Add initial grain entry
        addGrainEntry();

        calculateABV();
    </script>
</body>
</html>
```
